# SentinelCore: 基于嵌入式Linux的边缘智能网关与云平台互联解决方案
## 项目简介
随着智能家具等物联网设备的不断发展，越来越多的家庭会选择构建全屋智能来提升生活的质量和便利性。在上述背景下，本项目旨在将各种智能家具上云，扩展设备的功能，用户可以统一管理设备。
**SentinelCore** 是一个构建在嵌入式Linux设备（如NXP i.MX6ULL开发板）上的边缘智能网关服务，旨在实现设备数据的高效采集、安全上云、以及强大的远程监控与控制功能。本系统通过集成物联网通信协议（MQTT），结合云平台和Web应用，为用户提供一个“硬件-边缘-云-应用”一体化的解决方案。

## 核心功能与特性
SentinelCore 作为一个 **All-in-one 边缘智能网关**，具备以下核心能力：

1. 多源数据采集能力：
支持多种本地设备接入：能够从各类下挂硬件设备（如通过串口、I2C总线、GPIO等接口连接的传感器、执行器等）采集数据。
网络数据集成：预留通过TCP等网络协议接入其他智能设备的接口。

2. 边缘侧数据处理与存储：
在本地嵌入式设备端进行初步的数据解析、预处理和逻辑判断。
支持数据的本地存储，保障数据可靠性，应对网络不稳定情况。

3. 安全高效的云端通信：
MQTT协议通信：通过标准的MQTT协议，安全、低延迟、高效地将边缘设备数据上报至云平台（如阿里云或其他自定义MQTT Broker）。
发布/订阅模式：设备作为MQTT客户端发布传感器数据；Web应用订阅数据以进行展示。

4. 全面的远程控制与管理：
远程硬件控制：支持通过云平台远程控制下挂硬件设备，例如切换GPIO状态（控制LED等）、操作蓝牙模块。
传感器数据获取：Web应用能实时订阅并展示设备连接的温湿度传感器、环境光传感器等数据。
网关自身管理：支持远程配置更新和OTA（Over-The-Air）固件升级，确保系统持续迭代和维护。
控制指令下发：Web应用作为MQTT客户端发布控制指令；设备订阅指令并执行相应操作。

5. 直观友好的Web可视化：
提供基于Web的服务和应用界面，用于优雅地展示采集到的数据。
通过Web界面进行设备远程控制，实现人机交互的便捷性。

# 目前实现的功能
## 1. 设备信息监控模块-采集设备状态
通过读取内核的数据，来获取当前CPU的温度、负载以及系统的内存使用情况。
<img width="2539" height="1162" alt="image" src="https://github.com/user-attachments/assets/e17e8309-2f92-4be5-80ab-3a5dc0c22f2c" />


## 2. 环境光传感器模块-采集环境光信息 
环境光传感器型号为 AP3216C ，使用 I2C 接口与 IMX6ULL 进行通信，能够实现环境光强度（ALS）检测、接近距离（PS）检测和红外线强度（IR）检测。
<img width="2539" height="1162" alt="image" src="https://github.com/user-attachments/assets/918ffe2f-34d5-48f2-ad26-f2996c7041b9" />


## 3. 采集设备MQTT客户端-与Broker进行通信，发布和订阅Topic
这是本项目的核心，客户端将采集到的数据作为一个Tpoic发布到云服务器Broker，同时从云服务器Broker订阅控制命令Topic，来实现数据上传广播与远程控制功能。
每个采集设备会实例化一个MQTT客户端，为多线程所共享，客户端采用了MQTT3.1.1协议与云服务Broker进行通信。目前能够实现设备状态Tpoic的发布。
<img width="2539" height="1150" alt="image" src="https://github.com/user-attachments/assets/35eab37a-5d20-40c9-8298-6e74597158a8" />


# TODO List 
- [x] 设备信息监控模块（获取设备状态）
  - [x] 获取设备基本信息 
  - [x] CPU利用率、温度
  - [x] 内存使用率
- [ ] 温湿度传感器模块
- [x] 环境光传感器模块
- [ ] PMW LED控制模块
- [ ] json 命令格式解析
- [ ] 蓝牙连接模块
- [x] 采集设备MQTT客户端
- [x] MQTT上传数据
- [ ] Web客户端展示数据
- [ ] 添加MQTT设备链接登录功能
- [ ] 提升MQTT链接的安全性：SSL加密





